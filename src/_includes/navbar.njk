<nav class="navbar">
    {% set navPages = collections.all | eleventyNavigation %}
    {% macro renderNavListItem(entry) -%}
        <li{% if entry.url == page.url %} class="active"{% endif %}>
            {%- if entry.children.length -%}
                <a href="{{ entry.url }}" class="has-children">{{ entry.title }}</a>
                <ul class="child-list">
                    {%- for child in entry.children %}{{ renderNavListItem(child) }}
                    {% endfor -%}
                </ul>
            {% else %}
                <a href="{{ entry.url }}">{{ entry.title }}</a>
            {%- endif -%}
        </li>
    {%- endmacro %}
    <input type="checkbox" id="menu-toggle">
    <label class='menu-button-container' for="menu-toggle">
        <div class='menu-button'></div>
    </label>

    <div class="nav-logo">
        <a href="/">CCA Aerospace</a>
    </div>

    <ul>
        {%- for entry in navPages %}{{ renderNavListItem(entry) }}
        {%- endfor -%}

        <li class="join-us-hamburger">
            <a href="/join">
                <button class="button-primary">Join Us</button>
            </a>
        </li>
    </ul>


    <!-- Just a heads up to future me, you should refactor this to be seperate list to handle all the buttons on the right and consolidate all the bad css into some simpler css--> 
    <div class="join-us">
        <a href="/join">
            <button class="button-primary">Join Us</button>
        </a>
    </div>
</nav>